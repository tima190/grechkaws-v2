<template>
  <nav class="navbar">
    <div class="navbar-container">
      <div class="logo">
        <span class="logo-full">Grechka WS</span>
        <span class="logo-small">GKWS</span>
        <span v-if="logoMessage" class="logo-message">{{ logoMessage }}</span>
      </div>

      <ul class="nav-links">
        <li><ThemeButton /></li>
        <li><NuxtLink to="/">–≥–ª–∞–≤–Ω–æ–µ</NuxtLink></li>
        <li><NuxtLink to="/blog">–±–ª–æ–≥</NuxtLink></li>
        <li class="menu-wrapper">
          <span class="menu-toggle" @click="menuOpen = !menuOpen">–º–µ–Ω—é</span>
          <ul v-if="menuOpen" class="dropdown">
          <li><NuxtLink to="/merch">–ú–µ—Ä—á(–∑–∞–≥–ª—É—à–∫–∞)</NuxtLink></li>
          <li>–ø–æ–∫–∞ –Ω–∏—á–µ–≥–æ :)</li>
            <!-- <li><NuxtLink to="/extra1">–¥–æ–ø. 1</NuxtLink></li>
            <li><NuxtLink to="/extra2">–¥–æ–ø. 2</NuxtLink></li> -->
          </ul>
        </li>
      </ul>
    </div>
  </nav>
</template>



<script setup>
const menuOpen = ref(false)
import { ref, onMounted, nextTick } from 'vue'
import { animate } from 'animejs'

const logoMessage = ref('')

// –ú–∞—Å—Å–∏–≤ –∑–∞–±–∞–≤–Ω—ã—Ö —Ñ—Ä–∞–∑ –¥–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞
const funnyPhrases = [
  '—Å–∞–π—Ç Grechka GK',
  '–í—Å–µ–ª–µ–Ω–Ω–∞—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞? üåå',
  '—Å—á–∞—Å—Ç—å–µ –≤ –º–µ–ª–æ—á–∞—Ö ü©µ',
  'tea - ‚ù§Ô∏è',
  'linux user ü§ì',
  'let peace = true ',
]

onMounted(async () => {
  const now = new Date()
  const month = now.getMonth() // 0 = —è–Ω–≤–∞—Ä—å, 5 = –∏—é–Ω—å
  const day = now.getDate()

  await nextTick()

  if (month === 5) { // –∏—é–Ω—å
    logoMessage.value = 'June üåà'
    animate('.logo', {
      color: ['#FA5145', '#FD9F34', '#F9D81D', '#7FBE59', '#0394D7', '#502C79', '#FA5145'],
      duration: 5000,
      loop: true,
    })
  } else if (month === 0 && day === 1) { // 1 —è–Ω–≤–∞—Ä—è
    logoMessage.value = 'New Year! üéâ'
    animate('.logo', {
      color: '#0394D7',
      scale: [1, 1.1, 1], // –£–º–µ–Ω—å—à–µ–Ω–æ –¥–ª—è –ª—É—á—à–µ–≥–æ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è
      duration: 2000,
      loop: true,
    })
  } else if (month === 9 && day === 8) { // 8 –æ–∫—Ç—è–±—Ä—è
    logoMessage.value = 'HB to me!!!!'
    animate('.logo', {
      color: '#0394D7',
      scale: [1, 1.1, 1],
      duration: 2000,
      loop: true,
    })
  } else {
    // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é —Ñ—Ä–∞–∑—É –∏–∑ –º–∞—Å—Å–∏–≤–∞
    const randomIndex = Math.floor(Math.random() * funnyPhrases.length)
    logoMessage.value = funnyPhrases[randomIndex]
  }
})
</script>

<style scoped>
.navbar {
  background-color: var(--background-color);
  border-bottom: 2px solid var(--secondary-bg);
  padding: 0.5rem 1rem;
  position: sticky;
  top: 0;
  z-index: 10;
}

.navbar-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  max-width: 960px;
  margin: 0 auto;
}

.logo {
  font-weight: bold;
  font-size: 1.2rem;
  color: var(--primary-color);
  display: flex;
  align-items: center;
  gap: 0.5rem;
  line-height: 1.5; /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è */
}

.logo-message {
  font-size: 0.9rem;
  font-weight: 500;
  line-height: 1.5; /* –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç .logo */
}

.nav-links {
  list-style: none;
  display: flex;
  align-items: center; /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
  gap: 1.2rem;
  margin: 0;
  padding: 0;
}

.nav-links li {
  display: flex;
  align-items: center; /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ li */
}

.nav-links a {
  text-decoration: none;
  color: var(--secondary-color);
  font-weight: 500;
  font-size: 1rem; /* –ï–¥–∏–Ω—ã–π —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
  line-height: 1.5; /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ —Å—Ç—Ä–æ–∫–∏ */
  padding: 0.5rem; /* –ï–¥–∏–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –¥–ª—è –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ */
  transition: color 0.2s;
}

.nav-links a:hover {
  color: var(--primary-color);
}

.menu-wrapper {
  position: relative;
}

.menu-toggle {
  cursor: pointer;
  font-weight: 500;
  color: var(--secondary-color);
  padding: 0.5rem;
  transition: color 0.2s;
}

.menu-toggle:hover {
  color: var(--primary-color);
}

.dropdown {
  position: absolute;
  top: 100%;
  right: 0;
  background-color: var(--background-color);
  border: 1px solid var(--secondary-bg);
  padding: 0.5rem 1rem;
  box-shadow: 6px 6px var(--secondary-bg);
  z-index: 10;
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
  min-width: 120px;
}

.dropdown li {
  display: block;
}

.dropdown a {
  text-decoration: none;
  color: var(--secondary-color);
  font-weight: 500;
  transition: color 0.2s;
}

.dropdown a:hover {
  color: var(--primary-color);
}

/** –ª–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–æ–≥–æ –ø—Ä–∏ –º–∞–ª–µ–Ω—å–∫–æ–º —ç–∫—Ä–∞–Ω–µ */

.logo-small {
  display: none;
}

@media (max-width: 550px) {
  .logo-full {
    display: none;
  }

  .logo-small {
    display: inline;
  }

  .logo-message {
    display: none;
  }
}

</style>